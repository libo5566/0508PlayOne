<!DOCTYPE html>
<html>
<head>
    <title>无限轮播示例</title>
    <style>
        .carousel {
            display: flex;
            overflow: hidden;
        }
        .carousel .carousel-track {
            display: flex;
            will-change: transform;
        }
        .carousel-item {
            min-width: 250px; /* 根据实际宽度调整 */
            margin-right: 10px; /* 格子之间的间距 */
        }
        /* 其他样式可以根据需求添加 */
    </style>
</head>
<body>
    <h1>无限轮播示例</h1>

    <div id="carousel1" class="carousel">
        <div class="carousel-track">
            <!-- 重复的内容： -->
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=10"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=9"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=8"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=7"></div>
            <!-- 确保内容充足以形成无缝连接 -->
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=6"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=5"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=4"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=3"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=20"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=21"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=22"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=23"></div>
        </div>
    </div>

    <div id="carousel2" class="carousel">
        <div class="carousel-track">
            <!-- 重复的内容： -->
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=18"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=17"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=16"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=15"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=14"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=13"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=12"></div>
            <div class="carousel-item"><img src="https://picsum.photos/300/200/?random=11"></div>
        </div>
    </div>

    <script>
        const scrollSpeed = 1; // 可调整滚动的速度
        const carousel1 = document.querySelector('#carousel1 .carousel-track');
        const carousel2 = document.querySelector('#carousel2 .carousel-track');
        const itemCount = carousel1.childElementCount / 2;
        const itemWidth = carousel1.firstElementChild.getBoundingClientRect().width + 10; // 加上间隙的宽度
        let scrollPos1 = 0;
        let scrollPos2 = 0;

        function infiniteScroll(carousel, itemCount, itemWidth, reverse) {
            let scrollPos = reverse ? scrollPos1 : scrollPos2;
            scrollPos = reverse ? scrollPos + scrollSpeed : scrollPos - scrollSpeed;
            carousel.style.transform = `translateX(${scrollPos}px)`;
            if (Math.abs(scrollPos) >= itemWidth * itemCount) {
                carousel.style.transform = 'translateX(0px)';
                scrollPos = 0;
            }
            if (reverse) {
                scrollPos1 = scrollPos;
            } else {
                scrollPos2 = scrollPos;
            }
        }

        setInterval(() => {
            infiniteScroll(carousel1, itemCount, itemWidth, true);
            infiniteScroll(carousel2, itemCount, itemWidth, false);
        }, 30);
    </script>
</body>
</html>